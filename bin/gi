#!/bin/bash -e
if [ "" == "$1" ]; then
	echo "usage: gi <command>";
	echo;
	echo "Commands:";
	echo "  open                      Open a new issue"
	echo "  checkout <issue-number>   Check out branch for specified issue, create it if needed";
	echo "  details                   Show current branch-issue's details";
	echo "  browse                    Open current branch-issue in web browser";
	echo "  comment                   Add comment to current branch-issue";
	echo "  push                      Push current branch-issue to origin";
	echo "  pull-request [<target>]   Create a pull-request with the current branch-issue";
	exit 1;
fi

if ! (git remote | grep -q '^upstream$'); then
	echo "No upstream remote configured. Please add it using git:";
	echo "  use (git remote add upstream <url>)";
	exit 1;
fi

if [ `uname` == 'Darwin' ]; then
	script=$(greadlink -f "$0")
else
	script=$(readlink -f "$0")
fi
commandsDir=$(dirname $script)/../
$commandsDir"commands/"$@
